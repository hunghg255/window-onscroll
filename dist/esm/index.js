!function(){"use strict";var t=function(){function t(){this.instance=null,this.instancesCount=0,this.ticking=!1,this.supportsPassiveEvents=!1,this.supportsCustomEvents=!1,this.eventListenerOptions=null,this.EVENT_NAME="window-onscroll",this.init()}return t.prototype.init=function(){return this.isWindowDefined="undefined"!=typeof window,this.supportsPassiveEvents=this.detectPassiveEvents(),this.supportsCustomEvents=this.isWindowDefined&&"function"==typeof window.CustomEvent,"undefined"==typeof window?null:(this.instancesCount++,this.instance?this.instance:(this.instance=this,this.handleScroll=this.handleScroll.bind(this),this.eventListenerOptions=!this.supportsPassiveEvents||{passive:!0},void window.addEventListener("scroll",this.handleScroll,this.eventListenerOptions)))},t.prototype.removeListener=function(){this.instancesCount--,0===this.instancesCount&&this.destroy()},t.prototype.destroy=function(){window.removeEventListener("scroll",this.handleScroll,this.eventListenerOptions),this.instance=null,this.instancesCount=0},t.prototype.getScrollPosition=function(){var t=window.scrollY||document.documentElement.scrollTop,n=window.scrollX||document.documentElement.scrollLeft;return t<0&&(t=0),n<0&&(n=0),{scrollPosition:t,scrollPositionY:t,scrollPositionX:n}},t.prototype.handleScroll=function(){var t,n=this;this.ticking||(n.ticking=!0,n.supportsCustomEvents?t=new CustomEvent(n.EVENT_NAME,{detail:n.getScrollPosition()}):(t=document.createEvent("CustomEvent")).initCustomEvent(n.EVENT_NAME,!1,!1,n.getScrollPosition()),window.dispatchEvent(t),window.requestAnimationFrame((function(){n.ticking=!1})))},t.prototype.detectPassiveEvents=function(){if(this.isWindowDefined&&"function"==typeof window.addEventListener){var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}}),i=function(){};return window.addEventListener("TEST_PASSIVE_EVENT_SUPPORT",i,n),window.removeEventListener("TEST_PASSIVE_EVENT_SUPPORT",i,n),t}return!1},t}();"undefined"!=typeof window&&(window.ScrollManager=t)}();
//# sourceMappingURL=index.js.map
